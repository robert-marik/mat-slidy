
kde=$1

if [ -z $kde ]
then
   kde="derivace_I derivace_II derivace_III integraly integraly2 ode matice inverzni_matice soustavy vektorove_pole dvojny_integral numerika shrnuti"
   echo '<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> 
<html> <head> 

<meta content="text/html; charset=utf-8" http-equiv="content-type">
<link rel="stylesheet" type="text/css" href="styl.css" ></head><html>' > index.html
   echo '<h1>Prezentace z přednášek z Matematiky v letním semestru 2020</h1><p>Tato stránka obsahuje prezentace z předmětu <a href="http://user.mendelu.cz/marik/mtk/">Matematika</a>. Každá přednáška je v několika formátech pro pohodlí a větší možnost volby uživatele. Pro tisk je nejlepší PDF (neobsahuje obrázky a motivační slidy), pro prohlížení na tabletu html, pro transformaci do široké škály výstupů (programem Pandoc) formát markdown.</p>' >> index.html
   echo '<div class="CSSTableGenerator"><table>'>>index.html
   echo '<tr><td>Název</td><td>Webová stránka html</td><td>Webová prezentace slidy.js</td><td>Tisk v PDF</td><td>markdown</td></tr>'>>index.html

   for j in $kde
   do
       k=`head -n1 $j/slidy.md | cut -d% -f2`
       echo "<tr><td>$k</td><td><a href='$j/index.html' target='_blank'>otevřít</a></td><td><a href='$j/index_h.html' target='_blank'>otevřít</a></td><td><a href='$j.pdf'>otevřít</a></td><td><a href='$j/slidy.md'>otevřít</a></td></tr>"  >> index.html

   done
   echo '</table></div></html>' >> index.html

   rsync -e "ssh -o StrictHostKeyChecking=no" -av index.html cornus.mendelu.cz:html/mtk/mat-slidy/
fi  

for i in $kde
do
  echo $i
  #cp my.css $i/
  cp prikaz_pandoc $i/prikaz
  cd $i
  bash prikaz
  cd ..

  rsync -e "ssh -o StrictHostKeyChecking=no" -av $i cornus.mendelu.cz:html/mtk/mat-slidy/
done

#rsync -e "ssh -o StrictHostKeyChecking=no" -av my.css cornus.mendelu.cz:html/mt/mat-slidy
#rsync -e "ssh -o StrictHostKeyChecking=no"  -av facebox cornus.mendelu.cz:html/mt/mat-slidy
#rsync -e "ssh -o StrictHostKeyChecking=no"  -av styles cornus.mendelu.cz:html/mt/mat-slidy
#rsync -e "ssh -o StrictHostKeyChecking=no"  -av scripts cornus.mendelu.cz:html/mt/mat-slidy
#rsync -e "ssh -o StrictHostKeyChecking=no"  -av deck cornus.mendelu.cz:html/mt/mat-slidy
